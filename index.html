<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bupsite</title>
    <style>
        /* Base XP Colors */
        :root {
            --xp-blue: #0A246A;
            --xp-light-blue: #3A6EA5;
            --xp-white: #FFFFFF;
            --xp-grey: #ECE9D8;
            --xp-border-dark: #8C8A8C;
            --xp-border-light: #F6F6F6;
        }

        body {
            font-family: 'Tahoma', 'Verdana', sans-serif; /* Standard XP fonts */
            margin: 0;
            padding: 0;
            background-color: var(--xp-light-blue); /* XP desktop blue */
            color: var(--xp-blue);
        }

        .container {
            width: 80%;
            margin: 20px auto;
            /* Simulating a window */
            background-color: var(--xp-grey);
            border-top: 1px solid var(--xp-border-light);
            border-left: 1px solid var(--xp-border-light);
            border-right: 1px solid var(--xp-border-dark);
            border-bottom: 1px solid var(--xp-border-dark);
            padding: 10px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5); /* Subtle shadow for depth */
        }

        h1, h2 {
            color: var(--xp-blue);
            margin-top: 5px;
            border-bottom: 2px solid var(--xp-blue); /* Simple title underline */
        }

        /* Input and Suggestions Styling (Windows Form look) */
        #search-bar {
            width: calc(100% - 24px); /* Account for padding and border */
            padding: 5px;
            margin: 10px 0;
            font-size: 1em;
            border: 1px solid var(--xp-border-dark);
            background-color: var(--xp-white);
            box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .suggestions {
            border: 1px solid var(--xp-border-dark);
            max-height: 150px;
            overflow-y: auto;
            position: absolute;
            background-color: var(--xp-white);
            width: 78%; /* Adjusted to match container width roughly */
            z-index: 100;
        }

        .suggestions div {
            padding: 5px 10px;
            cursor: none !important; /* Keep custom cursor logic */
            color: black;
        }

        .suggestions div:hover {
            background-color: var(--xp-light-blue);
            color: var(--xp-white);
        }

        /* Tic Tac Toe Board Styling */
        #board {
            display: grid;
            grid-template: repeat(3, 1fr) / repeat(3, 1fr);
            gap: 5px; /* Reduced gap for a tighter look */
            width: 200px;
            height: 200px;
            margin: 20px auto;
            border: 1px solid var(--xp-border-dark);
        }

        .cell {
            background: var(--xp-white);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: none !important; /* Keep custom cursor logic */
            font-size: 2.5em;
            font-weight: bold;
            color: var(--xp-blue);
            /* Simulating a 3D effect for the cells */
            border-top: 1px solid var(--xp-border-dark);
            border-left: 1px solid var(--xp-border-dark);
            border-right: 1px solid var(--xp-border-light);
            border-bottom: 1px solid var(--xp-border-light);
        }

        .cell:hover {
            background: #E8E8E8; /* Lighter hover */
        }

        /* Button Styling (Classic Windows Button) */
        button, #survive-button {
            display: block;
            margin: 10px auto;
            padding: 3px 15px;
            font-size: 1em;
            font-weight: normal;
            border: 1px solid var(--xp-border-dark);
            background: var(--xp-grey);
            color: black;
            cursor: none !important; /* Keep custom cursor logic */
            /* 3D button effect */
            border-top: 1px solid var(--xp-border-light);
            border-left: 1px solid var(--xp-border-light);
            border-right: 1px solid var(--xp-border-dark);
            border-bottom: 1px solid var(--xp-border-dark);
            box-shadow: 1px 1px 0 black;
            text-shadow: 1px 1px 0 var(--xp-white);
            transition: none; /* Disable smooth transition for XP feel */
        }

        button:hover, #survive-button:hover {
            background: #DCDCDC; /* Slightly darker on hover */
        }

        button:active, #survive-button:active {
            /* 'Pressed' state */
            border-top: 1px solid var(--xp-border-dark);
            border-left: 1px solid var(--xp-border-dark);
            border-right: 1px solid var(--xp-border-light);
            border-bottom: 1px solid var(--xp-border-light);
            box-shadow: none;
            padding: 4px 15px 2px 16px; /* Shift text down-right */
        }
        
        #survive-button {
            position: fixed; /* Changed from absolute to fixed for viewport visibility */
            bottom: 30px; /* Moved up from 10px to be visible */
            left: 20px; /* Moved slightly right for padding */
            margin: 0;
            z-index: 10; /* Ensure it's above other elements */
        }
        
        /* YouTube Logo and Dog Image */
        #youtube-logo {
            position: absolute;
            top: 20px; 
            right: 20px;
            width: 50px; 
            height: 50px;
            background: url('https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg') no-repeat center;
            background-size: contain;
        }

        #dog-image {
            cursor: none !important; 
            width: 150px; 
            height: auto;
            display: block;
            margin: 20px auto;
            border: 1px solid var(--xp-border-dark); 
        }
        
        /* Click Counter (Status Bar look) */
        #click-counter {
            position: fixed;
            bottom: 0; 
            right: 0;
            left: unset; /* Removed left: 0 to stop it spanning the width */
            width: 150px; /* Set a specific width */
            background: #008080; /* Teal/Green status bar color */
            color: var(--xp-white);
            padding: 5px 10px;
            border-top: 1px solid var(--xp-border-light);
            font-size: 0.9em;
            border-radius: 0;
            text-align: right;
            z-index: 10; /* Ensure it's on top */
        }

        /* Custom Cursor */
        * {
            cursor: none !important;
            user-select: none;
        }

        .custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <form id="searchForm">
                <input type="text" id="search-bar" placeholder="Search for a page..." autocomplete="off">
                <div class="suggestions" id="suggestions"></div>
            </form>
            <h1>Welcome to bupsite</h1>
        </div>
    </header>

    <div class="container">
        <h2>Tic Tac Toe Game</h2>
        <div id="board"></div>
        <button onclick="resetBoard()">Reset</button>
        
        <h2>Click the Dog!</h2>
        <img id="dog-image" src="dog.png" alt="Dog">
    </div>

    <a id="youtube-logo" href="https://www.youtube.com/channel/UCP3zHPDt2RMRf_6cBWKD5MQ" target="_blank"></a>
    <button id="survive-button">Survive?</button>
    <div id="click-counter">Clicks: 0</div>

    <script>
        const pages = ['zombie', 'escape', 'calculator', 'store'];

        // --- Search Bar Suggestions ---
        document.getElementById('search-bar').addEventListener('input', function() {
            const input = this.value.toLowerCase();
            const suggestions = document.getElementById('suggestions');
            suggestions.innerHTML = '';
            
            // Recalculate position for suggestion box
            const searchBarRect = this.getBoundingClientRect();
            suggestions.style.width = searchBarRect.width + 'px';
            suggestions.style.left = searchBarRect.left + 'px';
            suggestions.style.top = (searchBarRect.bottom) + 'px';

            if (input) {
                const filteredPages = pages.filter(page => page.includes(input));
                filteredPages.forEach(page => {
                    const suggestionDiv = document.createElement('div');
                    suggestionDiv.textContent = page;
                    suggestionDiv.addEventListener('click', function() {
                        document.getElementById('search-bar').value = page;
                        suggestions.innerHTML = '';
                        navigateToPage(page);
                    });
                    suggestions.appendChild(suggestionDiv);
                });
            }
        });

        function navigateToPage(query) {
            switch (query) {
                case 'zombie':
                    window.location.href = 'zombie.html';
                    break;
                case 'escape':
                    window.location.href = 'escape.html';
                    break;
                case 'calculator':
                    window.location.href = 'calculator.html';
                    break;
                case 'store':
                    window.location.href = 'store.html';
                    break;
                default:
                    alert('Page not found!');
            }
        }

        document.getElementById('searchForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const query = document.getElementById('search-bar').value.toLowerCase();
            navigateToPage(query);
        });

        // --- Tic Tac Toe ---
        const board = Array(9).fill(null);
        let turn = 'X';

        window.resetBoard = function() { // Make function globally accessible
            for (let i = 0; i < board.length; i++) {
                board[i] = null;
            }
            turn = 'X';
            drawBoard();
        }

        function drawBoard() {
            const boardDiv = document.getElementById('board');
            boardDiv.innerHTML = '';
            for (let i = 0; i < board.length; i++) {
                const cellDiv = document.createElement('div');
                cellDiv.innerHTML = board[i] ? board[i] : '';
                cellDiv.className = 'cell';
                cellDiv.addEventListener('click', () => makeMove(i));
                boardDiv.appendChild(cellDiv);
            }
        }

        function checkWin() {
            const lines = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6],
            ];
            for (let i = 0; i < lines.length; i++) {
                const [a, b, c] = lines[i];
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    alert(`${board[a]} wins!`);
                    resetBoard();
                    return true;
                }
            }
            if (board.every(cell => cell !== null)) {
                alert("It's a draw!");
                resetBoard();
                return true;
            }
            return false;
        }

        function makeMove(i) {
            if (!board[i] && !checkWin()) {
                board[i] = turn;
                drawBoard();
                if (!checkWin()) {
                    turn = turn === 'X' ? 'O' : 'X';
                }
            }
        }

        drawBoard();

        // --- Dog click counter ---
        let clickCount = 0;
        document.getElementById('dog-image').addEventListener('click', function() {
            // Note: 'bark.wav' is a local file. Assuming it exists for the audio to play.
            const barkSound = new Audio('bark.wav');
            barkSound.play();
            clickCount++;
            document.getElementById('click-counter').textContent = `Clicks: ${clickCount}`;
        });

        // --- Survive button ---
        document.getElementById('survive-button').addEventListener('click', function() {
            window.location.href = 'zombie.html';
        });

        // --- Custom Cursor ---
        const customCursor = document.createElement('div');
        customCursor.classList.add('custom-cursor');
        // Note: 'hand.png' is a local file. Assuming it exists for the custom cursor.
        customCursor.innerHTML = '<img src="hand.png" style="width: 30px; height: 30px;">';
        document.body.appendChild(customCursor);

        document.addEventListener('mousemove', (e) => {
            customCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
        });
    </script>
</body>
</html>
